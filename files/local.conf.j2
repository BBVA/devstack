[[local|localrc]]

DATABASE_PASSWORD={{ password }}
RABBIT_PASSWORD={{ password }}
SERVICE_TOKEN={{ password }}
SERVICE_PASSWORD={{ password }}
ADMIN_PASSWORD={{ password }}

HOST_IP={{ networking.address }}

#FLOATING_RANGE=172.20.10.0/28 
#Q_FLOATING_ALLOCATION_POOL=start=172.20.10.5,end=192.168.1.10
#FIXED_RANGE=10.0.1.0/24 
#FIXED_NETWORK_SIZE=256

disable_service n-net
enable_service q-svc
enable_service q-agt
enable_service q-dhcp
enable_service q-l3
enable_service q-meta
enable_service q-metering
enable_service q-vpn
enable_service q-fwaas
enable_service q-lbaas
IP_VERSION=4+6

{% if service.trove %}
enable_service trove
enable_service tr-tmgr
enable_service tr-cond
enable_service tr-api

enable_plugin trove git://git.openstack.org/openstack/trove
enable_plugin python-troveclient git://git.openstack.org/openstack/python-troveclient
{% endif %}

{% if service.ceilometer %}
enable_service ceilometer-acompute
enable_service ceilometer-acentral
enable_service ceilometer-anotification
enable_service ceilometer-collector
enable_service ceilometer-api
enable_service ceilometer-alarm-notifier
enable_service ceilometer-alarm-evaluator
{% endif %}

{% if service.heat %}
enable_plugin heat https://github.com/openstack/heat master
#enable_service h-eng h-api h-api-cfn h-api-cw
{% endif %}

{% if service.magnum %}
enable_plugin magnum https://github.com/openstack/magnum master
{% endif %}

{% if components.sahara %}
enable_service sahara
{% endif %}

{% if service.ceph %}
enable_service ceph
CINDER_DRIVER=ceph
CINDER_ENABLED_BACKENDS=ceph
{% endif %}

{% if service.ironic %}
enable_service ir-api
enable_service ir-cond
{% endif %}

{% if service.zaqar %}
enable_service zaqar-server
{% endif %}

{% if service.swift %}
enable_service s-proxy
enable_service s-object
enable_service s-container
enable_service s-account
SWIFT_HASH={{ password }}
SWIFT_REPLICAS=1
{% endif %}

{% if service.tempest %}
enable_service tempest
{% endif %}

# IMAGE_URLS

{% if service.rally %}
enable_plugin rally https://github.com/openstack/rally master
{% endif %}

